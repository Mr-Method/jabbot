#!/usr/bin/env perl
use common::sense;
use FindBin;
use lib "$FindBin::Bin/../lib";

$ENV{JABBOT_ROOT} = "$FindBin::Bin/..";

my %runnables = (
    irc     => 'Jabbot::Front::IRC',
    console => 'Jabbot::Front::Console',
    github  => 'Jabbot::Back::Github',
    core    => 'Jabbot::Core'
);

use Jabbot;

my $cmd = shift @ARGV;

given($cmd) {
    when('start') {
        my $runner = Plack::Runner->new(server => 'Twiggy', env => 'production');
        $runner->parse_options(@ARGV);
        $runner->run;
    }
}
